<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8">
	<link rel="stylesheet" type="text/css" href="style.css" media="all">
    <script src="http://code.jquery.com/jquery-1.10.1.min.js"></script>
    <script src="http://leafo.net/sticky-kit/src/sticky-kit.js"></script>

</head>
<body>
<header class="head">
<div id="goot"><h1 class="h1">CTF: О самом главном.</h1></div>
<div id="poot"><b><p id="p3"><a href="всезаново4.html">Тест</a></p></b></div>
<div id="poot"><b><p id="p2"><a href="всезаново3.html">Видео</a></p></b></div>
<div id="poot"><b><p id="p"><a href="всезаново2.html">Главная</a></p></b></div>
</header> 
<div id="content">
<div id="left"><h2 id="zahead">Навигация по разделу:</h2>
<nav id="menu">
<div><a href="#par1"><b><p id="iacor">Задание номер 1</p></b></a></div>
<div><a href="#par2"><b><p id="iacor">Задание номер 2</p></b></a></div>
<div><a href="#par3"><b><p id="iacor">Задание номер 3</p></b></a></div>
<div><a href="#par4"><b><p id="iacor">Задание номер 4</p></b></a></div>
<div><a href="#par5"><b><p id="iacor">Задание номер 5</p></b></a></div>
<div><a href="#par6"><b><p id="iacor">Задание номер 6</p></b></a></div>
<div><a href="#par7"><b><p id="iacor">Задание номер 7</p></b></a></div>
<div><a href="#par8"><b><p id="iacor">Задание номер 8</p></b></a></div>
<div><a href="#par9"><b><p id="iacor">Задание номер 9</p></b></a></div>
<div><a href="#par10"><b><p id="iacor">Задание номер 10</p></b></a></div>
<script async src="js/scroll.js"></script>
</nav>
<script async src="js/sticky.js"></script>
</div>
    <div id="right">
     <br><br><h1>WEB-категория</h1><br>
     <p id="par"><img src="image/hackit_ctf_ctftime.png" class="left" width="15%">
     WEB - это категория заданий, связанных с нахождениями уязвимостей на сайтах. Задача заключается в том, чтобы достать из сайта флаг. С этим могут возникать трудности, так как надо много решать заданий на эту тему. Есть задания, где надо найти какую-то недоработку в сайте или в игре и с помощью этого получить флаг. Я плохо разбираюсь в этой теме, но основами я овладел. Цель моего проекта помочь новичку в начале его пути, давая ему советы!</p>
     <br><br><br>
     <p id="par1">Задание №1.</p>
     <br>
     <p id="par"><img src="image/pr2.jpg" class="right">
     Первая, самая примитивная задача. Дана страничка с формовым запросом, где нужно ввести логин и пароль которые мы не знаем. Эта задача решается очень легко. Важно лишь знать как открыть инструменты разработчика(сочетание клавиш Ctrl+Shift+I, кроме Internet Explorer (f12) ).</p><br>
     <br><br>
     <p id="par">
     После открытия кода, виден логин и пароль, которые надо ввести в поля представленные выше.
     Вы входите и вам дают флаг.
     Но за такие задания дают мало баллов!</p>
     <br><br><br><br>
     <p id="par2">Задание №2.</p>
     <br>
     <p id="par"><img src="image/pr3.jpg" class="left" width="55%">
     Дан сайт.
     Зайдя на него и посмотрев исходный код страницы, мы ничего особенного не находим. Надо запустить DIRB(DIRB - это сканер веб-контента. Он ищет существующие (и / или скрытые) веб-объекты). Обнаруживаем, что на сервере включен mod_status, тк DIRB обнаруживает путь /server-status.
     Вводим в адресную строку /server-status.
     <br><br><br><br><br>
     <p id="par"><img src="image/flag.jpg" class="right2"><br>
     Обнаруживаем секретную страницу с флагом /secret_admin/B0pdwqU3YB.
     <br><br>
     Перейдя на нее мы найдем флаг!
     </p>
    </p>
    <br><br><br><br><br><br>
    <p id="par3">Задание 3</p>
    <br>
    <p><img src="image/robots1.png" class="right2">Итак, открываем таск и видим:</p>
    <br>
    <p>Обращаем внимание на название и описание к таску - "Are you robot?". <br>Так, обычно, организаторы пытаются указать нам путь решения, и, я думаю, что после такой подсказки вариантов решение остается немного:) </p>
    <br><br><br>
    <p><img src="image/robots3.png" class="right2" width="70%">Заходим на сайт, который дан в задании и далее пробуем воспользоваться подсказкой из задания. Вводим в адресную строку robots.txt: </p>
    <br><br><br><br><br><br><br><br>
    <p><img src="image/robots4.png" class="left" width="60%">Смотрим файл robots.txt. 
    <br><br>
     Видим очень много записей, часть которых просто попытка запутать людей, решающих этот таск. Но не стоит волноваться!
     <br><br> Нужно хорошенько промониторить все записи. Находим файл wihtoutrobots.php, который не должен индексироваться какими-либо поисковыми роботами, т.е. кто-то очень хотел его спрятать, но сделал это не так, как надо было:) 
     <br><br><br><br>
     <p><img src="image/robots6.png" class="left" width="60%">Переходим к этому файлу и получаем наш флаг! Таск решен. </p>
     <br><br><br><br><br><br><br>
     <p id="par4">Задание 4</p>
     <br>
     <p> Итак, рассмотрим такую штуку как Сookie. Иногда в тасках бывают подсказки, к примеру, какие-нибудь картинки с изображением печенек. Знающие английский поймут почему. Например, на StepCTF в одном из web тасков была картинка с Кунг-фу Пандой, которая ела печеньки:)
     Запрашивая страницу, браузер отправляет веб-серверу короткий текст с HTTP-запросом. 
     <br><br>
     Например, для доступа к странице http://www.example.org/index.html, браузер отправляет на сервер www.example.org следующий запрос:
     <br>
     <p class="primer">GET /index.html HTTP/1.1 Host: www.example.org</p><br>
     <p>браузер→сервер</p><br>
     <p>Сервер отвечает, отправляя запрашиваемую страницу вместе с текстом, содержащим HTTP-ответ. Там может содержаться указание браузеру сохранить куки:</p>
     <p class="primer">HTTP/1.1 200 OK Content-type: text/html Set-Cookie: name=value</p>
     <p>(содержимое страницы)</p>
     <br>
     <p>браузер←сервер</p>
     <br>
     <p>Строка Set-cookie отправляется лишь тогда, когда сервер желает, чтобы браузер сохранил куки. В этом случае, если куки поддерживаются браузером и их приём включён, браузер запоминает строку name=value (имя = значение) и отправляет её обратно серверу с каждым последующим запросом. Например, при запросе следующей страницы http://www.example.org/spec.html браузер пошлёт серверу www.example.org следующий запрос:</p>
     <p class="primer">GET /spec.html HTTP/1.1 Host: www.example.org Cookie: name=value Accept: /</p>
     <br>
     <p>браузер→сервер</p>
     <br>
     <p>Этот запрос отличается от первого запроса тем, что содержит строку, которую сервер отправил браузеру ранее. Таким образом, сервер узна́ет, что этот запрос связан с предыдущим. Сервер отвечает, отправляя запрашиваемую страницу и, возможно, добавив новые куки. Значение куки может быть изменено сервером путём отправления новых строк Set-Cookie: name=newvalue. После этого браузер заменяет старое куки с тем же name на новую строку. Куки также могут устанавливаться программами на языках типа JavaScript, встроенными в текст страниц, или аналогичными скриптами, работающими в браузере. В JavaScript для этого используется объект document.cookie.</p> <br>
    <p>Например, document.cookie = "temperature=20" создаст куки под именем «temperature» и значением 20. Рассмотрим небольшой пример решения таска: При решении таска использовалось расширение Chrome под названием "EditThisCookie". Открыв таск, видим: </p>
    <br><img src="image/cookie1.png" class="center"></p>
<p id="par5">Задание 5</p>
<p>Этот протокол описывает взаимодействие между двумя компьютерами (клиентом и сервером), построенное на базе сообщений, называемых запрос (Request) и ответ (Response). Каждое сообщение состоит из трех частей: стартовая строка, заголовки и тело. При этом обязательной является только стартовая строка. <br><br>
Стартовые строки для запроса и ответа имеют различный формат — нам интересна только стартовая строка запроса, которая выглядит так:</p>
<br>
<p class="primer">METHOD URI HTTP/VERSION,</p>
<br>
<p>где METHOD — это как раз метод HTTP-запроса, URI — идентификатор ресурса, VERSION — версия протокола (на данный момент актуальна версия 1.1).</p><br>
<p><img src="image/GET1.png" class="right3" width="70%">Рассмотрим пример решения таска с использованием GET-запроса: Таск называется "Can you GET this one?" из этого уже можно сделать кое-какие выводы:) Итак, открыв таск мы видим:</p><br><br><br> <p>Немного изучив содержимое таска, можно обратить внимание на URL (Адресную строку, где написано Page = Guest). Если воспользоваться мозгами, то приходит понимание, что стоит воспользоваться волшебный словом "Admin". Отправляем запрос и получаем результат: </p><br><img src="image/GET4.png" class="center">
<br><br>
<p id="par6">Задание 6</p>
<p>OWASP DirBuster - это приложение от кампании OWASP для перебора наличия файлов на веб сервере по спискам. Расскажу вкратце как с ней работать.</p>
<br>
<p>Чем же так хорош DirBuster? А все дело в том, что он проходится именно перебором, а не как Spider по всем ссылкам страниц. То есть мы можем найти те файлы, которые не индексируются. 
<br><br>Один из тасков,который мне встречался, был по вебу: нам дали url сайта. Вычислить на чем работает не получалось (все заголовки, fingerprint'ы были удалены).</p>
<p>Как тут решать нужно было:</p>
<p><br>1. Запускаем DirBuster на сайт с минимальным словарем (это все таки ctf:) <br><br>
2. Ждем несколько минут. <br><br>
3. Замечаем файл .DS_Store, скачиваем его.<br><br>
4. С помощью hexedit получаем списки файлов в директории (они будут явно видны среди нечитаемых символов.<br><br>
5. Находим файл типа flagflag.txt</p>
<br><br><br><br>
<p id="par7">Задание 7</p>
<p>Рассмотрим еще одну простейшую задачу.</p>
<p>Задание называется Флаг.</p> <br> 
<p>Дана ссылка, перейдя на которую мы увидим картинку:</p>
<img src="image/flag.png" class="center">
<p>Он показывает код php сервера, предупреждение и изображение флагов.</p>
<br>
<p>Можно заметить, что он берет файл Accept-Language из заголовка http и использует его для открытия файла в директории flags/. Так что это кажется простым, просто вернитесь назад /и получите флаг. 
Единственный недостаток - функция str_replace удаляет ../из строки. Чтобы обойти это, мы используем строку, ....//которая при передаче на функцию замены перезапускается../</p>
<br>
<p>После этого я создал скрипт, который изменил поле Accept-Language заголовка http-запроса, ....//....//....//....//flagа затем получил файл base64 и расшифровал его. <br><br>
В конце концов флаг выдается 35c3_this_flag_is_the_be5t_fl4g
</p>
<br><br><br>
<p id="par8">Задание 8</p>
<p>В задании указаны следующие данные: 
<br>    
<br>
<p class="primer">1.ssh -p 11022 protssh@109.233.56.90</p>
<p class="primer">2.Password: ctb10</p>
</p>
<p><img src="image/ctb10-flag-300x218.png" class="right">После успешной авторизации по SSH, получаем следующую картину. <br><br><br><br> Можно было бы попробовать подобрать пароль, однако простое нажатие комбинации Ctrl+C позволяет попасть в систему без ввода пароля, флаг наш.</p>
<br>
<br>
<br>
<br>
<p id="par9">Задание 9</p>
<br>
<p>Дана следующая ссылка:
<br><br> https://hackyou.ctf.su/files/web100_waitwaitwait/index.html. Беглый просмотр JavaScript-кода... а впрочем воспользуемся встроенным в любой веб-браузер отладчиком.</p>
<p>Видим фрагмент кода:
<br><br>
<p class="primer">if (data != object.substr(14)) {alert("Not a flag");}else{alert("The flag");}
}</p>
<p>После видим флаг!</p>
<img src="image/web100-flag.png" class="center">
</p>
<br><br>
<p id="par10">Задание 10</p>
<p>Теперь нам дана такая ссылка: https://hy17-wrongsec.spb.ctf.su/. <br><br>Сайт практически пустой, попытка подставить кавычку оканчивается полным фиаско, а сканер директорий грустно молчит. Подсказкой является изображение снизу с текстом Acusensor. На помощь приходит следующая статья: https://dustri.org/b/playing-with-the-acusensor.html. Откуда взять пароль? Всё просто, обратимся по одному из следующих путей:
<br><br>
<p class="primer">
/acu_phpaspect.php~<br>
/acu_phpaspect.php.bak</p>
<br><br>
<p>Получив пароль и ознакомившись с вышеприведенной статьей, совершаем следующий запрос с помощью curl:
<br><br>
<p class="primer">curl 'https://hy17-wrongsec.spb.ctf.su/index.php' -H 'Acunetix-Aspect: enabled' -H 'Acunetix-Aspect-Password: 2879091705eecb17d7cac5dac535e722'</p>
<br>
<p>Декодируем фрагмент содержимого из Base64.</p>
<img src="image/web200-data.png" class="center">
<p>Это нам дает путь к файлу с флагом (https://hy17-wrongsec.spb.ctf.su/encrypted_password.txt) и способ его декодирования:</p>
<p class="primer">
1.?php
<br>
2.$pass = file_get_contents('encrypted_password.txt');
<br>
3.for ($i=0; $i < strlen($pass); $i++)
<br>
4.$pass[$i] = chr(ord($pass[$i])^($i*0x17+0x3F)^$i);
<br> 
5.echo $pass;
</p><br>
<p>Что и позволяет получить флаг.</p>
</div>
    <div class="clear"></div>
</div>
<footer class="footer">
<div id="foot"></div>
</footer>
<div id = "toTop" >
<img src="image/images.png" id="f">
<script async src="js/click.js"></script>
</div>
</body>
</html>